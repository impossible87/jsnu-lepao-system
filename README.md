# 乐跑系统（跑步数据生成器）

> ⚠️ **本项目仅限江苏师范大学（jsnu）学生学习和使用。其他高校如需使用，请自行修改操场的经纬度参数。**

## 项目简介

乐跑系统是一个基于Web的跑步数据生成工具，能够生成标准400米操场轨迹的TCX格式运动数据文件，适用于运动APP导入。系统支持自定义起跑时间、批量生成、心率模拟等功能，界面美观，操作简便。

## 功能特点

- 生成标准400米操场轨迹（默认经纬度：34.197550, 117.173188，江苏师范大学西操场）
- 随机总距离（2km-2.4km，约5-6圈）
- 随机配速（每圈120-200秒）
- 非线性心率变化（75-120次/分）
- 支持多个时间点批量生成
- 支持单个文件下载和批量打包下载
- 现代化美观前端界面

## 技术栈

- 后端：Python Flask
- 前端：HTML、CSS、JavaScript（含Bootstrap美化）
- 数据格式：TCX (Training Center XML)

## 安装与运行

1. **克隆项目**
   ```bash
   git clone [项目地址]
   cd [项目目录]
   ```

2. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

3. **运行服务**
   ```bash
   python app.py
   ```

4. **访问系统**
   ```
   http://localhost:5000
   ```

## 使用说明

1. 在网页上输入跑步开始时间（年、月、日、时、分、秒），可添加多个时间点
2. 点击"生成TCX文件"按钮
3. 选择下载单个文件或批量打包下载
4. 生成的TCX文件可直接导入支持TCX格式的运动APP

## 生成数据说明

- **跑道**：标准400米椭圆操场（默认江苏师范大学西操场经纬度）
- **总距离**：随机2km-2.4km（约5-6圈）
- **配速**：每圈120-200秒（随机）
- **心率**：75-120次/分（非线性变化）
- **GPS坐标**：默认固定（34.197550, 117.173188），如需适配其他学校请修改`app.py`和`main.py`中的经纬度参数

## 项目结构

```
.
├── app.py              # Flask主程序
├── requirements.txt    # Python依赖
├── static/             # 静态资源（CSS/JS）
│   ├── css/
│   │   └── style.css
│   └── js/
│       └── main.js
├── templates/
│   └── index.html      # 前端模板
├── 乐跑/
│   └── main.py         # 轨迹生成核心算法示例
├── build_exe.py        # 打包脚本
├── 打包程序.bat        # 一键打包批处理
├── 打包说明.md         # 打包详细说明
└── ...
```

## 打包为可执行文件

1. 双击`打包程序.bat`自动安装依赖并打包
2. 打包结果在`dist/`目录下，生成`乐跑系统.exe`
3. 详细打包说明见`打包说明.md`

## 注意事项

- **仅限jsnu的学生使用，其他高校请自行更改操场经纬度**
- 确保输入的时间有效
- 生成的TCX文件可直接导入运动APP
- 程序首次启动较慢属正常现象
- 如需修改功能或适配其他学校，请修改源代码后重新打包

## 许可证

MIT License

---

如需进一步定制或有疑问，欢迎联系项目维护者。 